<?xml version="1.0" encoding="UTF-8"?>
<service class="mano.service.http.HttpService">
    <settings>
        <property name="service.name">MANO HTTP Service</property>
        <property name="service.disabled">false</property>
        <property name="app.config.dir">{mano.dir}/webapps</property>
        <property name="app.deploy.dir">{mano.dir}/webapps/caches</property>
        <property name="worker.buffer_size">8k</property>
        <property name="worker.max_connections">1024</property>
    </settings>
    <dependency>
        <!--type=jar|classes|url-->
        <path type="jar" recursive="false">{mano.dir}/lib</path>
    </dependency>
    <default>
        <request disabledEntityBody="false" maxEntityBodySize="4m" controller="home" action="index">
            <document>
                <add value="index.html"/>
            </document>
            <ignored>
                <add value="/WEB-INF"/>
                <add value="/views"/>
            </ignored>
            <!--on|off|remoteOnly-->
            <errors mode="off" defaultPath="generic_error.htm">
                <error code="404" path="404.htm"/>
            </errors>
        </request>
        
        <dependency>
            <!--<path value="E:\repositories\java\mano\mano\target\mano-1.4.0-BETA.jar"/>-->
        </dependency>
            
        <modules>
            <add name="static_file_module" class="mano.service.http.StaticFileModule">
                <!--http://www.w3school.com.cn/media/media_mimeref.asp-->
                <property name="ext:htm">text/html</property>
                <property name="ext:html">text/html</property>
                <property name="ext:txt">text/plain</property>
                <property name="ext:xml">text/xml</property>
                <property name="ext:dtd">text/xml</property>
                <property name="ext:css">text/css</property>
                <property name="ext:js">application/x-javascript</property>
                <property name="ext:svg">image/svg+xml</property>
                <!--图像-->
                <property name="ext:jpg">image/jpeg</property>
                <property name="ext:jpeg">image/jpeg</property>
                <property name="ext:png">image/png</property>
                <property name="ext:gif">image/gif</property>
                <property name="ext:bmp">image/bmp</property>
                <property name="ext:ico">image/x-icon</property>
                <property name="ext:cur">image/vnd.microsoft.icon</property>
                <!--音/视频-->
                <property name="ext:mp4">video/mp4</property>
                <property name="ext:m4v">video/x-m4v</property>
                <property name="ext:mp3">audio/mpeg</property>
                <property name="ext:ogg">video/ogg</property>
                <property name="ext:ogv">video/ogg</property>
                <property name="ext:webm">video/webm</property>
                <property name="ext:flv">flv-application/octet-stream</property>
                <property name="ext:f4v">application/octet-stream</property>
                <property name="ext:avi">video/x-msvideo</property>
                <property name="ext:wav">audio/x-wav</property>
                <property name="ext:wmv">audio/x-ms-wmv</property>
                <property name="ext:qt">video/quicktime</property>
                <property name="ext:mov">video/quicktime</property>
                <property name="ext:woff">application/x-font-woff</property>
                <property name="ext:swf">application/x-shockwave-flash</property>
                <!--文档-->
                <property name="ext:doc">application/msword</property>
                <property name="ext:ppt">appication/powerpoint</property>
                <property name="ext:xls">application/vnd.ms-excel</property>
                <property name="ext:docx">application/msword</property>
                <property name="ext:pptx">appication/powerpoint</property>
                <property name="ext:xlsx">application/vnd.ms-excel</property>
                    
                <property name="ext:pdf">application/pdf</property>
                <property name="ext:ods">application/vnd.oasis.opendocument.spreadsheet</property>
                <property name="ext:odg">application/vnd.oasis.opendocument.graphics</property>
                <property name="ext:odb">application/vnd.oasis.opendocument.database</property>
                <property name="ext:odt">application/vnd.oasis.opendocument.text</property>
                <!--其它-->
                <property name="ext:exe">application/octet-stream</property>
                <property name="ext:rar">application/octet-stream</property>
                <property name="ext:zip">application/octet-stream</property>
                <property name="ext:7z">application/octet-stream</property>
                <property name="ext:gz">application/octet-stream</property>
                <property name="ext:gz2">application/octet-stream</property>
            </add>
                
            <add name="url_routing_module" class="mano.service.http.UrlRoutingModule">
                <property name="def.mime">text/html</property>
                <property name="def.encoding">utf-8</property>
                <property name="def.cache.timeout">120000</property>
                <property name="inf.dir">{app.dir}/WEB-INF</property>
                <property name="tmp.dir">{inf.dir}/tmp</property>
                <property name="view.dir">{app.dir}/views</property>
                <property name="view.engine">mano.service.http.OtplViewEngine</property>
            </add>
            
            <add name="direct_url_routing_module" class="mano.service.http.DirectUrlRoutingModule">
                <property name="def.mime">text/html</property>
                <property name="def.encoding">utf-8</property>
                <property name="def.cache.timeout">120000</property>
                <property name="inf.dir">{app.dir}/WEB-INF</property>
                <property name="tmp.dir">{inf.dir}/tmp</property>
                <property name="view.dir">{app.dir}/views</property>
                <property name="view.engine">mano.service.http.OtplViewEngine</property>
            </add>
            
            <add name="mano_plugs_module" class="mano.service.http.ManoPlugsModule">
                <property name="def.mime">text/html</property>
                <property name="def.encoding">utf-8</property>
            </add>
            
            
        </modules>
    </default>
    
    <listeners>
        <listener address="tcp.ipv4://0.0.0.0:80" backlog="128" class="mano.service.http.HttpListener">
            <handler class="mano.service.http.HttpHandler">
                <!--<property name="key">value</property>-->
            </handler>
        </listener>
        <listener address="tcp.ipv4://0.0.0.0:8082" backlog="128" class="mano.service.http.HttpListener">
            <handler class="mano.service.http.HttpHandler">
                <!--<property name="key">value</property>-->
            </handler>
        </listener>
    </listeners>
</service>